<div>
<h2>&#30446;&#24405;</h2>
<div>
<ul>
<li><a href="http://www.zmonster.me#org3363afb" rel="noopener noreferrer" target="_blank">Sequence to Sequence Model</a></li>
<li><a href="http://www.zmonster.me#org5f25482" rel="noopener noreferrer" target="_blank">Keras &#31616;&#20171;</a></li>
<li><a href="http://www.zmonster.me#org321a34e" rel="noopener noreferrer" target="_blank">Pig Latin: Sequence to Sequence &#23454;&#36341;</a></li>
</ul>
</div>
</div>

<hr>

<div>
<h2>Sequence to Sequence Model</h2>
<div>
<p>
Sequence to Sequence &#27169;&#22411;&#26159;&#36817;&#20960;&#24180;&#26469;&#27604;&#36739;&#28909;&#38376;&#30340;&#19968;&#20010;&#22522;&#20110; RNN &#30340;&#27169;&#22411;&#65292;&#29616;&#22312;&#34987;&#24191;&#27867;&#36816;&#29992;&#20110;&#26426;&#22120;&#32763;&#35793;&#12289;&#33258;&#21160;&#38382;&#31572;&#31995;&#32479;&#31561;&#39046;&#22495;&#65292;&#24182;&#19988;&#21462;&#24471;&#20102;&#19981;&#38169;&#30340;&#25928;&#26524;&#12290;&#35813;&#27169;&#22411;&#26368;&#26089;&#22312; 2014 &#24180;&#34987; Cho &#21644; Sutskever &#20808;&#21518;&#25552;&#20986;&#65292;&#21069;&#32773;&#23558;&#35813;&#27169;&#22411;&#21629;&#21517;&#20026; "Encoder-Decoder Model"&#65292;&#21518;&#32773;&#23558;&#20854;&#21629;&#21517;&#20026; "Sequence to Sequence Model"&#65292;&#20004;&#32773;&#26377;&#19968;&#20123;&#32454;&#33410;&#19978;&#30340;&#24046;&#24322;&#65292;&#20294;&#24635;&#20307;&#24605;&#24819;&#22823;&#33268;&#30456;&#21516;&#65292;&#25152;&#20197;&#21518;&#25991;&#19981;&#20570;&#21306;&#20998;&#65292;&#24182;&#31616;&#31216;&#20026; "seq2seq &#27169;&#22411;"&#12290;
</p>

<p>
seq2seq &#27169;&#22411;&#21033;&#29992;&#20102; RNN &#23545;&#26102;&#24207;&#24207;&#21015;&#22825;&#28982;&#30340;&#22788;&#29702;&#33021;&#21147;&#65292;&#35797;&#22270;&#24314;&#31435;&#19968;&#20010;&#33021; <b>&#30452;&#25509;&#22788;&#29702;&#21464;&#38271;&#36755;&#20837;&#19982;&#21464;&#38271;&#36755;&#20986;</b> &#30340;&#27169;&#22411;&mdash;&mdash;&#26426;&#22120;&#32763;&#35793;&#26159;&#19968;&#20010;&#38750;&#24120;&#22909;&#30340;&#20363;&#23376;&#12290;&#20256;&#32479;&#30340;&#26426;&#22120;&#32763;&#35793;&#31995;&#32479;&#24403;&#28982;&#20063;&#33021;&#26681;&#25454;&#21464;&#38271;&#30340;&#36755;&#20837;&#24471;&#21040;&#21464;&#38271;&#30340;&#36755;&#20986;&#65292;&#20294;&#36825;&#31181;&#22788;&#29702;&#33021;&#21147;&#26159;&#36890;&#36807;&#24456;&#22810;&#38646;&#30862;&#30340;&#35774;&#32622;&#12289;&#35268;&#21017;&#21644;&#25216;&#24039;&#26469;&#36798;&#25104;&#30340;&#65292;&#32780; seq2seq &#27169;&#22411;&#19981;&#19968;&#26679;&#65292;&#23427;&#32467;&#26500;&#31616;&#21333;&#32780;&#33258;&#28982;&#65292;&#23545;&#21464;&#38271;&#36755;&#20837;&#21644;&#21464;&#38271;&#36755;&#20986;&#30340;&#25903;&#25345;&#20063;&#26159;&#31616;&#21333;&#30452;&#25509;&#30340;&#12290;&#26469;&#30475;&#19968;&#19979;&#23427;&#30340;&#32467;&#26500;:
</p>


<div>
<p><img src="http://www.zmonster.me/assets/img/seq2seq.png" alt="seq2seq.png" referrerpolicy="no-referrer" loading="lazy">
</p>
</div>

<p>
&#19978;&#22270;&#26159;&#19968;&#20010;&#24050;&#32463;&#22312;&#26102;&#38388;&#32500;&#24230;&#19978;&#23637;&#24320;(unroll)&#30340; seq2seq &#27169;&#22411;&#65292;&#20854;&#36755;&#20837;&#24207;&#21015;&#26159; "ABC" &#65292;&#20854;&#36755;&#20986;&#24207;&#21015;&#26159; "WXYZ" &#12290;&#27169;&#22411;&#30001;&#20004;&#20010; RNN &#32452;&#25104;&#65306;&#31532;&#19968;&#20010; RNN &#25509;&#21463;&#36755;&#20837;&#65292;&#24182;&#23558;&#20854;&#34920;&#31034;&#25104;&#19968;&#20010;&#35821;&#20041;&#21521;&#37327;&#65292;&#22312;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;A&#12289;B&#12289;C &#21644;&#34920;&#31034;&#24207;&#21015;&#32467;&#26463;&#30340;&#29305;&#27530;&#31526;&#21495; &lt;EOS&gt; &#20381;&#27425;&#36755;&#20837;&#65292;&#24182;&#22312;&#35835;&#21462;&#21040; &lt;EOS&gt; &#26102;&#32456;&#27490;&#25509;&#25910;&#36755;&#20837;&#65292;&#24182;&#36755;&#20986;&#19968;&#20010;&#21521;&#37327;&#20316;&#20026; "ABC" &#36825;&#20010;&#36755;&#20837;&#21521;&#37327;&#30340;&#35821;&#20041;&#34920;&#31034;&#65292;&#22240;&#27492;&#20063;&#34987;&#31216;&#20316; "Encoder"&#65307;&#31532;&#20108;&#20010; RNN &#25509;&#21463;&#31532;&#19968;&#20010; RNN &#20135;&#29983;&#30340;&#36755;&#20837;&#24207;&#21015;&#30340;&#35821;&#20041;&#21521;&#37327;&#65292;&#28982;&#21518;&#20174;&#20013;&#20135;&#29983;&#20986;&#36755;&#20986;&#24207;&#21015;&#65292;&#22240;&#27492;&#20063;&#34987;&#31216;&#20316; "Decoder"&#12290;
</p>

<p>
&#26356;&#22810;&#30340;&#32454;&#33410;&#35265;&#25105;&#30340;&#20004;&#31687;&#35770;&#25991;&#38405;&#35835;&#31508;&#35760;:
</p>
<ol>
<li><a href="http://linusp.github.io/notes/sequence_to_sequence_learning.html" rel="noopener noreferrer" target="_blank">"Sequence to Sequence Learning with Neural Networks" &#38405;&#35835;&#31508;&#35760;</a></li>
<li><a href="http://linusp.github.io/notes/phrase_representation_using_rnn_encoder_decoder.html" rel="noopener noreferrer" target="_blank">"Learning Phrase Representation using RNN Encoder-Decoder" &#31508;&#35760;</a></li>
</ol>
</div>
</div>

<div>
<h2>Keras &#31616;&#20171;</h2>
<div>
<p>
Keras &#26159;&#19968;&#20010; Python &#30340;&#28145;&#24230;&#23398;&#20064;&#26694;&#26550;&#65292;&#23427;&#25552;&#20379;&#19968;&#20123;&#28145;&#24230;&#23398;&#20064;&#26041;&#27861;&#30340;&#39640;&#23618;&#25277;&#35937;&#65292;&#21518;&#31471;&#21017;&#34987;&#35774;&#35745;&#25104;&#21487;&#20999;&#25442;&#24335;&#30340;(&#30446;&#21069;&#25903;&#25345; Theano &#21644; TensorFlow)&#12290;4 &#26376;&#20221; Keras &#21457;&#24067;&#20102; 1.0 &#29256;&#26412;&#65292;&#24847;&#21619;&#30528; Keras &#30340;&#22522;&#30784;&#29305;&#24615;&#24050;&#32463;&#22522;&#26412;&#31283;&#23450;&#19979;&#26469;&#65292;&#19981;&#29992;&#25285;&#24515;&#20854;&#20013;&#30340;&#26041;&#27861;&#20250;&#21457;&#29983;&#21095;&#28872;&#30340;&#21464;&#21270;&#20102;&#12290;
</p>

<p>
(&#27880;: &#22240;&#20026;&#21457;&#24067; 1.0 &#29256;&#26412;&#26102;&#38388;&#36824;&#27604;&#36739;&#30701;&#65292;&#32593;&#19978;&#30340;&#19968;&#20123;&#20363;&#23376;&#26377;&#19981;&#23569;&#36824;&#20351;&#29992;&#30340;&#26087;&#29256;&#26412;&#30340;&#26041;&#27861;&#65292;&#24314;&#35758;&#22810;&#22810;&#26597;&#38405;&#25991;&#26723;)
</p>

<p>
&#22312; Keras &#20013;&#23454;&#29616;&#31070;&#32463;&#32593;&#32476;&#27169;&#22411;&#30340;&#26041;&#27861;&#24456;&#31616;&#21333;&#65292;&#39318;&#20808;&#23454;&#20363;&#21270;&#19968;&#20010; "Sequential" &#31867;&#22411;&#30340;&#27169;&#22411;&#65292;&#28982;&#21518;&#24448;&#20854;&#20013;&#28155;&#21152;&#19981;&#21516;&#31867;&#22411;&#30340; layer &#23601;&#21487;&#20197;&#20102;&#12290;&#27604;&#22914;&#35201;&#23454;&#29616;&#19968;&#20010;&#19977;&#23618;&#30340; MLP&#65292;&#21487;&#20197;&#36825;&#26679;:
</p>

<div>
<pre><span>from</span> keras.models <span>import</span> Sequential
<span>from</span> keras.layers <span>import</span> Dense

<span>model</span> = Sequential()
model.add(Dense(input_dim=4, output_dim=9, activation=<span>"relu"</span>))
model.add(Dense(output_dim=3, activation=<span>"softmax"</span>))
</pre>
</div>

<p>
&#20854;&#20013;&#30340; "Dense" &#26159;&#32463;&#20856;&#30340;&#20840;&#36830;&#25509;&#23618;(&#22312; Caffe &#20013;&#34987;&#31216;&#20026; InnerProduct)&#12290;&#27599;&#20010;&#32593;&#32476;&#23618;&#30340;&#36755;&#20837;&#12289;&#36755;&#20986;&#21442;&#25968;&#21644;&#28608;&#27963;&#20989;&#25968;&#37117;&#21487;&#20197;&#26041;&#20415;&#22320;&#30452;&#25509;&#35774;&#32622;&#12290;
</p>

<p>
&#21478;&#22806;&#65292;&#30001;&#20110;&#30446;&#21069;&#20351;&#29992;&#30340;&#21518;&#31471; Theano &#21644; TensorFlow &#37117;&#26159;&#22522;&#20110;&#31526;&#21495;&#35745;&#31639;&#30340;&#65292;&#19978;&#36848;&#27169;&#22411;&#23450;&#20041;&#21518;&#21482;&#26159;&#20135;&#29983;&#20102;&#19968;&#20010;&#31526;&#21495;&#35745;&#31639;&#30340;&#22270;&#65292;&#24182;&#19981;&#33021;&#30452;&#25509;&#29992;&#26469;&#35757;&#32451;&#21644;&#35782;&#21035;&#65292;&#25152;&#20197;&#38656;&#35201;&#36827;&#34892;&#19968;&#27425;&#36716;&#25442;&#65292;&#35843;&#29992; "Sequential" &#30340; compile &#26041;&#27861;&#21363;&#21487;:
</p>

<div>
<pre>model.<span>compile</span>(loss=<span>"categorical_crossentropy"</span>, optimizer=<span>"sgd"</span>)
</pre>
</div>

<p>
compile &#26102;&#38656;&#35201;&#35774;&#23450;&#35757;&#32451;&#26102;&#30340;&#30446;&#26631;&#20989;&#25968;&#21644;&#20248;&#21270;&#26041;&#27861;&#65292;&#32780; Keras &#20013;&#24050;&#32463;&#23454;&#29616;&#20102;&#30446;&#21069;&#24120;&#29992;&#30340;&#30446;&#26631;&#20989;&#25968;&#21644;&#20248;&#21270;&#26041;&#27861;&#65292;&#35814;&#24773;&#35265;:
</p>
<ol>
<li><a href="http://keras.io/objectives/" rel="noopener noreferrer" target="_blank">Keras Document: Objectives</a></li>
<li><a href="http://keras.io/optimizers/" rel="noopener noreferrer" target="_blank">Keras Document: Optimizers</a></li>
</ol>


<p>
&#35757;&#32451;&#26102;&#21017;&#35201;&#27714;&#25968;&#25454;&#26159; Numpy &#30340;&#22810;&#32500;&#25968;&#32452;&#24418;&#24335;&#65292;&#20445;&#35777;&#36825;&#19968;&#28857;&#30340;&#24773;&#20917;&#19979;&#20351;&#29992; "Sequential" &#30340; "fit" &#26041;&#27861;&#21363;&#21487;&#65292;&#22914;:
</p>
<div>
<pre>model.fit(IRIS_X, IRIS_Y, nb_epoch=300)
</pre>
</div>

<p>
&#22914;&#26524;&#38656;&#35201;&#36827;&#34892;&#20132;&#21449;&#39564;&#35777;&#65292;&#19981;&#29992;&#33258;&#24049;&#25163;&#24037;&#21435;&#20998;&#21106;&#35757;&#32451;&#25968;&#25454;&#65292;&#21482;&#38656;&#35201;&#20351;&#29992; "fit" &#26041;&#27861;&#30340; "validation_split" &#21442;&#25968;&#21363;&#21487;&#65292;&#20854;&#20540;&#24212;&#20026; 0-1 &#30340;&#28014;&#28857;&#25968;&#65292;&#34920;&#31034;&#23558;&#35757;&#32451;&#25968;&#25454;&#29992;&#20110;&#20132;&#21449;&#39564;&#35777;&#30340;&#27604;&#20363;&#65292;&#22914;:
</p>

<div>
<pre>model.fit(IRIS_X, IRIS_Y, nb_epoch=300, validation_split=0.1)
</pre>
</div>

<p>
&#35757;&#32451;&#36807;&#31243;&#20013;&#20250;&#23558; loss &#25171;&#21360;&#20986;&#26469;&#65292;&#26041;&#20415;&#20102;&#35299;&#27169;&#22411;&#35757;&#32451;&#24773;&#20917;:
</p>
<pre>
Epoch 1/100
1024000/1024000 [==============================] - 725s - loss: 0.7274 - val_loss: 0.6810
Epoch 2/100
1024000/1024000 [==============================] - 725s - loss: 0.6770 - val_loss: 0.6711
Epoch 3/100
1024000/1024000 [==============================] - 723s - loss: 0.6723 - val_loss: 0.6680
</pre>

<p>
&#22312; Keras &#20013;&#20063;&#25552;&#20379;&#27169;&#22411;&#30340;&#25345;&#20037;&#21270;&#26041;&#27861;&#65292;&#36890;&#36807; "Sequential.to_json" &#26041;&#27861;&#21487;&#20197;&#23558;&#27169;&#22411;&#32467;&#26500;&#20445;&#23384;&#20026; json &#28982;&#21518;&#20889;&#20837;&#21040;&#25991;&#20214;&#20013;&#65292;&#36890;&#36807; "Sequential.save_weights" &#26041;&#27861;&#21487;&#20197;&#30452;&#25509;&#23558;&#27169;&#22411;&#21442;&#25968;&#20889;&#20837;&#25991;&#20214;&#65292;&#32467;&#21512;&#36825;&#20004;&#32773;&#23601;&#21487;&#20197;&#23558;&#19968;&#20010;&#27169;&#22411;&#23436;&#25972;&#22320;&#20445;&#23384;&#19979;&#26469;:
</p>

<div>
<pre><span>def</span> <span>save_model_to_file</span>(model, struct_file, weights_file):
    <span># </span><span>save model structure</span>
    <span>model_struct</span> = model.to_json()
    <span>open</span>(struct_file, <span>'w'</span>).write(model_struct)

    <span># </span><span>save model weights</span>
    model.save_weights(weights_file, overwrite=<span>True</span>)
</pre>
</div>

<p>
&#23545;&#20110;&#20445;&#23384;&#19979;&#26469;&#30340;&#27169;&#22411;&#65292;&#24403;&#28982;&#20063;&#26377;&#23545;&#24212;&#30340;&#26041;&#27861;&#26469;&#36827;&#34892;&#35835;&#21462;:
</p>
<div>
<pre><span>from</span> keras.models <span>import</span> model_from_json

<span>def</span> <span>load_model</span>(struct_file, weights_file):
    <span>model</span> = model_from_json(<span>open</span>(struct_file, <span>'r'</span>).read())
    model.<span>compile</span>(loss=<span>"categorical_crossentropy"</span>, optimizer=<span>'sgd'</span>)
    model.load_weights(weights_file)

    <span>return</span> model
</pre>
</div>
</div>
</div>

<div>
<h2>Pig Latin: Sequence to Sequence &#23454;&#36341;</h2>
<div>
<p>
Pig Latin &#30340;&#19968;&#31181;&#32763;&#35793;&#21483;&#20570; &ldquo;&#20799;&#31461;&#40657;&#35805;&rdquo;&#65292;&#32599;&#21990;&#19968;&#28857;&#30340;&#24847;&#35793;&#26159; &ldquo;&#25925;&#24847;&#39072;&#20498;&#33521;&#35821;&#23383;&#27597;&#39034;&#24207;&#25340;&#20945;&#32780;&#25104;&#30340;&#40657;&#35805;&rdquo;&#65292;&#23427;&#26377;&#24456;&#22810;&#31181;&#21464;&#31181;&#35268;&#21017;&#65292;&#36825;&#37324;&#21482;&#21462;&#20854;&#21407;&#22987;&#30340;&#12289;&#26368;&#31616;&#21333;&#30340;&#20004;&#26465;&#35268;&#21017;:
</p>
<ol>
<li><p>
&#22914;&#26524;&#21333;&#35789;&#36215;&#22987;&#30340;&#23383;&#27597;&#26159; &#20803;&#38899; &#65292;&#37027;&#20040;&#22312;&#21333;&#35789;&#21518;&#38754;&#28155;&#21152;&#19968;&#20010; 'yay'
</p>

<pre>
'other' -&gt; 'otheryay'
</pre></li>

<li><p>
&#22914;&#26524;&#21333;&#35789;&#36215;&#22987;&#30340;&#23383;&#27597;&#26159; &#36741;&#38899; &#65292;&#37027;&#20040;&#23558;&#36215;&#22987;&#21040;&#31532;&#19968;&#20010;&#20803;&#38899;&#20043;&#21069;&#25152;&#26377;&#30340;&#36741;&#38899;&#23383;&#27597;&#20174;&#21333;&#35789;&#39318;&#37096;&#25386;&#21040;&#23614;&#37096;&#65292;&#28982;&#21518;&#28155;&#21152;&#19968;&#20010; 'ay'
</p>

<pre>
'book' -&gt; 'ookbay'
</pre></li>
</ol>


<p>
Pig Latin &#26159;&#19968;&#20010;&#20856;&#22411;&#30340;&#36755;&#20837;&#21644;&#36755;&#20986;&#37117;&#26159;&#21464;&#38271;&#24207;&#21015;&#30340;&#38382;&#39064;&#65292;&#25105;&#20204;&#36890;&#36807;&#23427;&#26469;&#20102;&#35299;&#19968;&#19979;&#22522;&#20110; Keras &#30340;&#31616;&#21333; seq2seq &#27169;&#22411;&#12290;
</p>

<p>
&#39318;&#20808;&#25105;&#20204;&#38656;&#35201;&#20934;&#22791;&#35757;&#32451;&#25968;&#25454;&#65292;&#22312;&#36825;&#20010;&#38382;&#39064;&#20013;&#65292;&#30001;&#20110;&#35268;&#21017;&#26159;&#30830;&#23450;&#30340;&#65292;&#25105;&#20204;&#21487;&#20197;&#26469;&#29983;&#25104;&#22823;&#37327;&#30340;&#25968;&#25454;&#65292;&#22914;&#19979;&#25152;&#31034;&#65292;&#31616;&#21333;&#20960;&#34892;&#20195;&#30721;&#23601;&#21487;&#20197;&#21862;:
</p>

<div>
<pre><span>from</span> itertools <span>import</span> dropwhile

<span>def</span> <span>is_vowel</span>(char):
    <span>return</span> char <span>in</span> (<span>'a'</span>, <span>'e'</span>, <span>'i'</span>, <span>'o'</span>, <span>'u'</span>)

<span>def</span> <span>is_consonant</span>(char):
    <span>return</span> <span>not</span> is_vowel(char)

<span>def</span> <span>pig_latin</span>(word):
    <span>if</span> is_vowel(word[0]):
        <span>return</span> word + <span>'yay'</span>
    <span>else</span>:
        <span>remain</span> = <span>''</span>.join(dropwhile(is_consonant, word))
        <span>removed</span> = word[:<span>len</span>(word)-<span>len</span>(remain)]
        <span>return</span> remain + removed + <span>'ay'</span>
</pre>
</div>

<p>
&#28982;&#21518;&#38656;&#35201;&#23454;&#29616;&#19968;&#20010;&#31616;&#21333;&#30340; seq2seq &#27169;&#22411;
</p>

<div>
<pre><span>from</span> keras.models <span>import</span> Sequential
<span>from</span> keras.layers.recurrent <span>import</span> LSTM
<span>from</span> keras.layers.wrappers <span>import</span> TimeDistributed
<span>from</span> keras.layers.core <span>import</span> Dense, RepeatVector

<span>def</span> <span>build_model</span>(input_size, max_out_seq_len, hidden_size):
    <span>model</span> = Sequential()
    model.add(LSTM(input_dim=input_size, output_dim=hidden_size, return_sequences=<span>False</span>))
    model.add(Dense(hidden_size, activation=<span>"relu"</span>))
    model.add(RepeatVector(max_out_seq_len))
    model.add(LSTM(hidden_size, return_sequences=<span>True</span>))
    model.add(TimeDistributed(Dense(output_dim=input_size, activation=<span>"linear"</span>)))
    model.<span>compile</span>(loss=<span>"mse"</span>, optimizer=<span>'adam'</span>)

    <span>return</span> model
</pre>
</div>

<p>
&#23545;&#19978;&#36848;&#20195;&#30721;&#20316;&#19968;&#28857;&#35299;&#37322;:
</p>
<ol>
<li>Encoder(&#21363;&#31532;&#19968;&#20010; LSTM) &#21482;&#22312;&#24207;&#21015;&#32467;&#26463;&#26102;&#36755;&#20986;&#19968;&#20010;&#35821;&#20041;&#21521;&#37327;&#65292;&#25152;&#20197;&#20854; "return_sequences" &#21442;&#25968;&#35774;&#32622;&#20026; "False"</li>
<li>Decoder(&#21363;&#31532;&#20108;&#20010; LSTM) &#38656;&#35201;&#22312;&#27599;&#19968;&#20010; time step &#37117;&#36755;&#20986;&#65292;&#25152;&#20197;&#20854; "return_sequences" &#21442;&#25968;&#35774;&#32622;&#20026; "True"</li>
<li>&#20351;&#29992; "RepeatVector" &#23558; Encoder &#30340;&#36755;&#20986;(&#26368;&#21518;&#19968;&#20010; time step)&#22797;&#21046; N &#20221;&#20316;&#20026; Decoder &#30340; N &#27425;&#36755;&#20837;</li>
<li>TimeDistributed &#26159;&#20026;&#20102;&#20445;&#35777; Dense &#21644; Decoder &#20043;&#38388;&#30340;&#19968;&#33268;&#65292;&#21487;&#20197;&#19981;&#29992;&#22826;&#20851;&#24515;</li>
</ol>


<p>
&#20043;&#25152;&#20197;&#35828;&#26159; "&#31616;&#21333;&#30340; seq2seq &#27169;&#22411;"&#65292;&#23601;&#22312;&#20110;&#31532; 3 &#28857;&#20854;&#23454;&#24182;&#19981;&#31526;&#21512;&#20004;&#31687;&#35770;&#25991;&#30340;&#27169;&#22411;&#35201;&#27714;&#65292;&#19981;&#36807;&#35201;&#23558; Decoder &#30340;&#27599;&#19968;&#20010;&#26102;&#21051;&#30340;&#36755;&#20986;&#20316;&#20026;&#19979;&#19968;&#20010;&#26102;&#21051;&#30340;&#36755;&#20837;&#65292;&#20250;&#40635;&#28902;&#24456;&#22810;&#65292;&#25152;&#20197;&#36825;&#37324;&#23545;&#20854;&#36827;&#34892;&#31616;&#21270;&#65292;&#20294;&#29992;&#26469;&#22788;&#29702; Pig Latin &#36825;&#26679;&#30340;&#31616;&#21333;&#38382;&#39064;&#65292;&#36825;&#31181;&#31616;&#21270;&#38382;&#39064;&#26159;&#19981;&#22823;&#30340;&#12290;
</p>

<p>
&#21478;&#22806;&#65292;&#34429;&#28982; seq2seq &#27169;&#22411;&#22312;&#29702;&#35770;&#19978;&#26159;&#33021;&#23398;&#20064; "&#21464;&#38271;&#36755;&#20837;&#24207;&#21015;-&#21464;&#38271;&#36755;&#20986;&#24207;&#21015;" &#30340;&#26144;&#23556;&#20851;&#31995;&#65292;&#20294;&#22312;&#23454;&#38469;&#35757;&#32451;&#20013;&#65292;Keras &#30340;&#27169;&#22411;&#35201;&#27714;&#25968;&#25454;&#20197; Numpy &#30340;&#22810;&#32500;&#25968;&#32452;&#24418;&#24335;&#20256;&#20837;&#65292;&#36825;&#23601;&#35201;&#27714;&#35757;&#32451;&#25968;&#25454;&#20013;&#27599;&#19968;&#26465;&#25968;&#25454;&#30340;&#22823;&#23567;&#37117;&#24517;&#39035;&#26159;&#19968;&#26679;&#30340;&#12290;&#38024;&#23545;&#36825;&#20010;&#38382;&#39064;&#65292;&#29616;&#22312;&#30340;&#24120;&#35268;&#20570;&#27861;&#26159;&#35774;&#23450;&#19968;&#20010;&#26368;&#22823;&#38271;&#24230;&#65292;&#23545;&#20110;&#38271;&#24230;&#19981;&#36275;&#30340;&#36755;&#20837;&#20197;&#21450;&#36755;&#20986;&#24207;&#21015;&#65292;&#29992;&#29305;&#27530;&#30340;&#31526;&#21495;&#36827;&#34892;&#22635;&#20805;&#65292;&#20351;&#25152;&#26377;&#36755;&#20837;&#24207;&#21015;&#30340;&#38271;&#24230;&#20445;&#25345;&#19968;&#33268;(&#25152;&#26377;&#36755;&#20986;&#24207;&#21015;&#38271;&#24230;&#20063;&#19968;&#33268;)&#12290;
</p>

<p>
&#22312; Pig Latin &#36825;&#20010;&#38382;&#39064;&#19978;&#65292;&#29992;&#25910;&#38598;&#30340; 2043 &#20010;&#38271;&#24230;&#22312; 3-6 &#30340;&#24120;&#29992;&#33521;&#25991;&#21333;&#35789;&#20316;&#20026;&#21407;&#22987;&#25968;&#25454;&#65292;&#21435;&#38500;&#20854;&#20013;&#21253;&#21547;&#38750; a-z &#30340;&#23383;&#27597;&#30340;&#21333;&#35789;&#65292;&#26368;&#21518;&#24471;&#21040;&#20102; 2013 &#20010;&#26377;&#25928;&#21333;&#35789;&#12290;&#28982;&#21518;&#26681;&#25454;&#30340;&#35268;&#21017;&#23558;&#36825;&#20123;&#21333;&#35789;&#25913;&#20889;&#20026; Pig Latin &#24418;&#24335;&#30340;&#21333;&#35789;&#65292;&#20316;&#20026;&#23545;&#24212;&#30340;&#36755;&#20986;&#12290;&#28982;&#21518;&#22312;&#21333;&#35789;&#21069;&#37117;&#28155;&#21152;&#24320;&#22987;&#31526; BEGIN_SYMBOL&#12289;&#22312;&#21333;&#35789;&#21518;&#37117;&#28155;&#21152;&#32467;&#26463;&#31526; END_SYMBOL&#65292;&#24182;&#29992; END_SYMBOL &#22635;&#20805; &#20351;&#20854;&#38271;&#24230;&#20026; 15 &#65292;&#24182;&#23558;&#27599;&#19968;&#20010;&#23383;&#31526;&#29992; one-hot &#24418;&#24335;&#36827;&#34892;&#21521;&#37327;&#21270;(&#21521;&#37327;&#21270;&#26102;&#29992;&#20110;&#22635;&#20805;&#30340;&#31354;&#30333;&#31526;&#29992;&#20840; 0 &#21521;&#37327;&#34920;&#31034;)&#65292;&#26368;&#21518;&#24471;&#21040;&#22823;&#23567;&#37117;&#20026; 2013x10x28 &#30340;&#36755;&#20837;&#21644;&#36755;&#20986;&#12290;
</p>

<p>
&#35757;&#32451;&#30340;&#35805;&#65292;batch_size &#35774;&#32622;&#20026; 128, &#22312; 100 &#20010; epoch &#21518;&#27169;&#22411;&#25910;&#25947;&#21040;&#20102;&#19968;&#20010;&#20196;&#20154;&#28385;&#24847;&#30340;&#31243;&#24230;&#12290;
</p>

<p>
&#22312;&#19968;&#20123;&#35757;&#32451;&#38598;&#20043;&#22806;&#30340;&#25968;&#25454;&#19978;&#65292;&#33021;&#30475;&#21040;&#32593;&#32476;&#32473;&#20986;&#20102;&#27491;&#30830;&#30340;&#32467;&#26524;:
</p>

<pre>
ok -&gt; okyay
sin -&gt; insay
cos -&gt; oscay
master -&gt; astermay
hanting -&gt; antinghay
</pre>

<p>
&#24403;&#28982;&#65292;&#20063;&#26377;&#19968;&#20123;&#21453;&#20363;:
</p>

<pre>
dddodd -&gt; oddddray
mxnet -&gt; inetlay
zzzm -&gt; omhmay
</pre>

<p>
&#20294;&#26159;&#26080;&#35770;&#32467;&#26524;&#38169;&#35823;&#31243;&#24230;&#22914;&#20309;&#65292;&#33021;&#30475;&#21040;&#32467;&#26524;&#24635;&#26159;&#20197; 'ay' &#32467;&#23614;&#30340;&#65281;
</p>

<p>
&#23436;&#25972;&#20195;&#30721;&#35265;: <a href="https://github.com/Linusp/soph/blob/master/demos/pig_latin.py" rel="noopener noreferrer" target="_blank">soph/demos/pig_latin.py</a>
</p>
</div>
</div>