<div>
<h2>&#30446;&#24405;</h2>
<div>
<ul>
<li><a href="http://www.zmonster.me#orgheadline1" rel="noopener noreferrer" target="_blank">&#20999;&#29255;(slicing)&#25805;&#20316;</a></li>
<li><a href="http://www.zmonster.me#orgheadline2" rel="noopener noreferrer" target="_blank">&#32034;&#24341;(indexing) &#25805;&#20316;</a>
<ul>
<li><a href="http://www.zmonster.me#orgheadline3" rel="noopener noreferrer" target="_blank">&#26368;&#31616;&#21333;&#30340;&#24773;&#20917;</a></li>
<li><a href="http://www.zmonster.me#orgheadline4" rel="noopener noreferrer" target="_blank">&#33719;&#21462;&#22810;&#20010;&#20803;&#32032;</a></li>
</ul>
</li>
<li><a href="http://www.zmonster.me#orgheadline5" rel="noopener noreferrer" target="_blank">&#20999;&#29255;&#21644;&#32034;&#24341;&#30340;&#21516;&#24322;</a></li>
</ul>
</div>
</div>

<div>
<h2>&#20999;&#29255;(slicing)&#25805;&#20316;</h2>
<div>
<p>
Numpy &#20013;&#22810;&#32500;&#25968;&#32452;&#30340;&#20999;&#29255;&#25805;&#20316;&#19982; Python &#20013; list &#30340;&#20999;&#29255;&#25805;&#20316;&#19968;&#26679;&#65292;&#21516;&#26679;&#30001; start, stop, step &#19977;&#20010;&#37096;&#20998;&#32452;&#25104;
</p>
<div>

<pre><span>import</span> numpy <span>as</span> np

<span>arr</span> = np.arange(12)
<span>print</span> <span>'array is:'</span>, arr

<span>slice_one</span> = arr[:4]
<span>print</span> <span>'slice begins at 0 and ends at 4 is:'</span>, slice_one

<span>slice_two</span> = arr[7:10]
<span>print</span> <span>'slice begins at 7 and ends at 10 is:'</span>, slice_two

<span>slice_three</span> = arr[0:12:4]
<span>print</span> <span>'slice begins at 0 and ends at 12 with step 4 is:'</span>, slice_three
</pre>
</div>

<pre>
array is: [ 0  1  2  3  4  5  6  7  8  9 10 11]
slice begins at 0 and ends at 4 is: [0 1 2 3]
slice begins at 7 and ends at 10 is: [7 8 9]
slice begins at 0 and ends at 12 with step 4 is: [0 4 8]
</pre>

<p>
&#19978;&#36848;&#20363;&#23376;&#26159;&#19968;&#32500;&#25968;&#32452;&#30340;&#20363;&#23376;&#65292;&#22914;&#26524;&#26159;&#22810;&#32500;&#25968;&#32452;&#65292;&#23558;&#19981;&#21516;&#32500;&#24230;&#19978;&#30340;&#20999;&#29255;&#25805;&#20316;&#29992; <b>&#36887;&#21495;</b> &#20998;&#24320;&#23601;&#22909;&#20102;
</p>
<div>

<pre><span># </span><span>coding: utf-8</span>
<span>import</span> numpy <span>as</span> np

<span>arr</span> = np.arange(12).reshape((3, 4))
<span>print</span> <span>'array is:'</span>
<span>print</span> arr

<span># </span><span>&#21462;&#31532;&#19968;&#32500;&#30340;&#32034;&#24341; 1 &#21040;&#32034;&#24341; 2 &#20043;&#38388;&#30340;&#20803;&#32032;&#65292;&#20063;&#23601;&#26159;&#31532;&#20108;&#34892;</span>
<span># </span><span>&#21462;&#31532;&#20108;&#32500;&#30340;&#32034;&#24341; 1 &#21040;&#32034;&#24341; 3 &#20043;&#38388;&#30340;&#20803;&#32032;&#65292;&#20063;&#23601;&#26159;&#31532;&#20108;&#21015;&#21644;&#31532;&#19977;&#21015;</span>
<span>slice_one</span> = arr[1:2, 1:3]
<span>print</span> <span>'first slice is:'</span>
<span>print</span> slice_one

<span># </span><span>&#21462;&#31532;&#19968;&#32500;&#30340;&#20840;&#37096;</span>
<span># </span><span>&#25353;&#27493;&#38271;&#20026; 2 &#21462;&#31532;&#20108;&#32500;&#30340;&#32034;&#24341; 0 &#21040;&#26411;&#23614; &#20043;&#38388;&#30340;&#20803;&#32032;&#65292;&#20063;&#23601;&#26159;&#31532;&#19968;&#21015;&#21644;&#31532;&#19977;&#21015;</span>
<span>slice_two</span> = arr[:, ::2]
<span>print</span> <span>'second slice is:'</span>
<span>print</span> slice_two
</pre>
</div>

<pre>
array is:
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
first slice is:
[[5 6]]
second slice is:
[[ 0  2]
 [ 4  6]
 [ 8 10]]
</pre>

<p>
&#23545;&#20110; slice_two&#65292;&#22914;&#26524; arr &#26159;&#29992; Python &#30340; list &#34920;&#31034;&#30340;&#65292;&#37027;&#20040;&#35201;&#24471;&#21040;&#30456;&#21516;&#30340;&#32467;&#26524;&#24471;&#20687;&#19979;&#38754;&#36825;&#26679;&#65292;&#30456;&#23545;&#26469;&#35828;&#23601;&#40635;&#28902;&#22810;&#20102;:
</p>
<div>

<pre><span>import</span> numpy <span>as</span> np

<span>arr</span> = np.arange(12).reshape((3, 4)).tolist()

<span>slice_two</span> = [
    row[::2] <span>for</span> row <span>in</span> arr
]
<span>print</span> slice_two
</pre>
</div>

<pre>
[[0, 2], [4, 6], [8, 10]]
</pre>

<p>
&#23545;&#20110;&#32500;&#25968;&#36229;&#36807; 3 &#30340;&#22810;&#32500;&#25968;&#32452;&#65292;&#36824;&#21487;&#20197;&#36890;&#36807; '&hellip;' &#26469;&#31616;&#21270;&#25805;&#20316;
</p>
<div>

<pre><span># </span><span>coding: utf-8</span>
<span>import</span> numpy <span>as</span> np

<span>arr</span> = np.arange(24).reshape((2, 3, 4))

<span>print</span> arr[1, ...]               <span># </span><span>&#31561;&#20215;&#20110; arr[1, :, :]</span>
<span>print</span> arr[..., 1]               <span># </span><span>&#31561;&#20215;&#20110; arr[:, :, 1]</span>
</pre>
</div>

<pre>
[[12 13 14 15]
 [16 17 18 19]
 [20 21 22 23]]
[[ 1  5  9]
 [13 17 21]]
</pre>
</div>
</div>

<div>
<h2>&#32034;&#24341;(indexing) &#25805;&#20316;</h2>
<div>
</div><div>
<h3>&#26368;&#31616;&#21333;&#30340;&#24773;&#20917;</h3>
<div>
<p>
&#23545;&#20110;&#19968;&#20010;&#22810;&#32500;&#25968;&#32452;&#26469;&#35828;&#65292;&#26368;&#31616;&#21333;&#30340;&#24773;&#20917;&#23601;&#26159;&#35775;&#38382;&#20854;&#20013;&#19968;&#20010;&#29305;&#23450;&#20301;&#32622;&#30340;&#20803;&#32032;&#20102;&#65292;&#22914;&#19979;&#25152;&#31034;:
</p>
<div>

<pre><span># </span><span>coding: utf-8</span>
<span>import</span> numpy <span>as</span> np

<span>arr</span> = np.array([
    [1, 2, 3, 4],
    [2, 4, 6, 8],
    [3, 6, 9, 12],
    [4, 8, 12, 16]
])
<span>print</span> <span>'&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;:'</span>, arr[1, 1]
</pre>
</div>

<pre>
&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;: 4
</pre>

<p>
&#30456;&#27604;&#20043;&#19979;&#65292;&#22914;&#26524;&#29992; Python &#30340; list &#26469;&#34920;&#31034;&#19978;&#36848;&#20108;&#32500;&#25968;&#32452;&#65292;&#33719;&#21462;&#21516;&#19968;&#20010;&#20301;&#32622;&#30340;&#20803;&#32032;&#30340;&#26041;&#27861;&#20026;:
</p>
<div>

<pre><span># </span><span>coding: utf-8</span>
<span>arr</span> = [
    [1, 2, 3, 4],
    [2, 4, 6, 8],
    [3, 6, 9, 12],
    [4, 8, 12, 16]
]
<span>print</span> <span>'&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;:'</span>, arr[1][1]
<span>try</span>:
    <span>print</span> <span>'&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;(&#23581;&#35797;&#29992; Numpy &#30340;&#26041;&#24335;&#33719;&#21462;):'</span>, arr[1, 1]
<span>except</span> <span>Exception</span> <span>as</span> e:
    <span>print</span> <span>str</span>(e)
</pre>
</div>

<pre>
&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;: 4
&#31532;&#20108;&#34892;&#31532;&#20108;&#21015;&#30340;&#20540;(&#23581;&#35797;&#29992; Numpy &#30340;&#26041;&#24335;&#33719;&#21462;): list indices must be integers, not tuple
</pre>

<p>
&#22914;&#26524;&#21482;&#26159;&#20108;&#32500;&#25968;&#32452;&#65292;&#36825;&#31181;&#24046;&#21035;&#21487;&#33021;&#30475;&#36215;&#26469;&#24182;&#19981;&#22823;&#65292;&#20294;&#24819;&#35937;&#19968;&#19979;&#20551;&#22914;&#26377;&#19968;&#20010; 10 &#32500;&#30340;&#25968;&#32452;&#65292;&#29992; Python &#30340;&#26631;&#20934;&#20570;&#27861;&#38656;&#35201;&#20889; 10 &#23545;&#20013;&#25324;&#21495;&#65292;&#32780;&#29992; Numpy &#20381;&#28982;&#21482;&#38656;&#35201;&#19968;&#23545;&#12290;
</p>
</div>
</div>

<div>
<h3>&#33719;&#21462;&#22810;&#20010;&#20803;&#32032;</h3>
<div>
<p>
&#20107;&#23454;&#19978;&#65292;&#22312; Numpy &#30340;&#32034;&#24341;&#25805;&#20316;&#26041;&#24335; `x = arr[obj]` &#20013;&#65292; obj &#19981;&#20165;&#20165;&#21487;&#20197;&#26159;&#19968;&#20010;&#29992;&#36887;&#21495;&#20998;&#38548;&#24320;&#30340;&#25968;&#23383;&#24207;&#21015;&#65292;&#36824;&#21487;&#20197;&#26159;&#26356;&#22797;&#26434;&#30340;&#20869;&#23481;&#12290;
</p>

<ol>
<li><p>
&#29992;&#36887;&#21495;&#20998;&#38548;&#30340;&#25968;&#32452;&#24207;&#21015;
</p>

<ul>
<li>&#24207;&#21015;&#30340;&#38271;&#24230;&#21644;&#22810;&#32500;&#25968;&#32452;&#30340;&#32500;&#25968;&#35201;&#19968;&#33268;</li>
<li>&#24207;&#21015;&#20013;&#27599;&#20010;&#25968;&#32452;&#30340;&#38271;&#24230;&#35201;&#19968;&#33268;</li>
</ul>
<div>

<pre><span>import</span> numpy <span>as</span> np

<span>arr</span> = np.array([
    [1, 2, 3, 4],
    [2, 4, 6, 8],
    [3, 6, 9, 12],
    [4, 8, 12, 16]
])

<span>print</span> arr[[0, 2], [3, 1]]
</pre>
</div>

<pre>
[4 6]
</pre>

<p>
&#20197;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#26469;&#35828;&#65292;&#20854;&#21547;&#20041;&#26159;: &#36873;&#25321;&#31532;&#19968;&#34892;&#21644;&#31532;&#19977;&#34892;&#65292;&#28982;&#21518;&#23545;&#31532;&#19968;&#34892;&#36873;&#25321;&#31532;&#22235;&#21015;&#65292;&#23545;&#31532;&#19977;&#34892;&#36873;&#25321;&#31532;&#20108;&#21015;&#12290;
</p></li>

<li><p>
boolean/mask index
</p>

<p>
&#36825;&#20010;&#19981;&#22826;&#22909;&#32763;&#35793;&#65292;&#25152;&#20197;&#23601;&#29992;&#21407;&#26469;&#30340;&#33521;&#35821;&#34920;&#36798;&#12290;
</p>

<p>
&#25152;&#35859; boolean index&#65292;&#23601;&#26159;&#29992;&#19968;&#20010;&#30001; boolean &#31867;&#22411;&#20540;&#32452;&#25104;&#30340;&#25968;&#32452;&#26469;&#36873;&#25321;&#20803;&#32032;&#30340;&#26041;&#27861;&#12290;&#27604;&#22914;&#35828;&#23545;&#19979;&#38754;&#36825;&#26679;&#22810;&#32500;&#25968;&#32452;
</p>

<pre>
array([[1, 2, 3, 4],
       [2, 4, 6, 8],
       [3, 6, 9, 12],
       [4, 8, 12, 16]])
</pre>

<p>
&#22914;&#26524;&#35201;&#21462;&#20854;&#20013; <b>&#20540;&#22823;&#20110; 5</b> &#30340;&#20803;&#32032;&#65292;&#23601;&#21487;&#20197;&#29992;&#19978; boolean index &#20102;&#65292;&#22914;&#19979;&#25152;&#31034;:
</p>
<div>

<pre><span>import</span> numpy <span>as</span> np

<span>arr</span> = np.array([[1, 2, 3, 4],
                [2, 4, 6, 8],
                [3, 6, 9, 12],
                [4, 8, 12, 16]])
<span>mask</span> = arr &gt; 5

<span>print</span> <span>'boolean mask is:'</span>
<span>print</span> mask

<span>print</span> arr[mask]
</pre>
</div>

<pre>
boolean mask is:
[[False False False False]
 [False False  True  True]
 [False  True  True  True]
 [False  True  True  True]]
[ 6  8  6  9 12  8 12 16]
</pre>

<p>
&#38500;&#20102;&#27604;&#36739;&#36816;&#31639;&#33021;&#20135;&#29983; boolean mask &#25968;&#32452;&#20197;&#22806;&#65292; Numpy &#26412;&#36523;&#20063;&#25552;&#20379;&#20102;&#19968;&#20123;&#24037;&#20855;&#26041;&#27861;:
</p>
<ul>
<li>numpy.iscomplex</li>
<li>numpy.isreal</li>
<li>numpy.isfinite</li>
<li>numpy.isinf</li>
<li>numpy.isnan</li>
</ul></li>
</ol>
</div>
</div>
</div>

<div>
<h2>&#20999;&#29255;&#21644;&#32034;&#24341;&#30340;&#21516;&#24322;</h2>
<div>
<p>
&#20999;&#29255;&#21644;&#32034;&#24341;&#37117;&#26159;&#35775;&#38382;&#22810;&#32500;&#25968;&#32452;&#20013;&#20803;&#32032;&#30340;&#26041;&#27861;&#65292;&#36825;&#26159;&#20004;&#32773;&#30340;&#20849;&#21516;&#28857;&#65292;&#19981;&#21516;&#20043;&#22788;&#26377;:
</p>
<ol>
<li>&#20999;&#29255;&#24471;&#21040;&#30340;&#26159;&#21407;&#22810;&#32500;&#25968;&#32452;&#30340;&#19968;&#20010; <b>&#35270;&#22270;(view)</b> &#65292;&#20462;&#25913;&#20999;&#29255;&#20013;&#30340;&#20869;&#23481;&#20250;&#23548;&#33268;&#21407;&#22810;&#32500;&#25968;&#32452;&#30340;&#20869;&#23481;&#20063;&#21457;&#29983;&#21464;&#21270;</li>
<li>&#20999;&#29255;&#24471;&#21040;&#22312;&#22810;&#32500;&#25968;&#32452;&#20013;&#36830;&#32493;(&#25110;&#25353;&#29305;&#23450;&#27493;&#38271;&#36830;&#32493;)&#25490;&#21015;&#30340;&#20540;&#65292;&#32780;&#32034;&#24341;&#21487;&#20197;&#24471;&#21040;&#20219;&#24847;&#20301;&#32622;&#30340;&#20540;&#65292;&#33258;&#30001;&#24230;&#26356;&#22823;&#19968;&#20123;</li>
</ol>

<p>
&#19981;&#32771;&#34385;&#31532;&#19968;&#28857;&#30340;&#35805;&#65292;&#20999;&#29255;&#30340;&#25805;&#20316;&#26159;&#21487;&#20197;&#29992;&#32034;&#24341;&#25805;&#20316;&#26469;&#23454;&#29616;&#30340;&#65292;&#19981;&#36807;&#36825;&#27809;&#26377;&#24517;&#35201;&#23601;&#26159;&#20102;&#12290;
</p>

<p>
&#23545;&#20110;&#31532;&#19968;&#28857;&#65292;&#35265;&#19979;&#38754;&#30340;&#23454;&#39564;:
</p>
<div>

<pre><span>import</span> numpy <span>as</span> np

<span>arr</span> = np.arange(12).reshape(2, 6)
<span>print</span> <span>'array is:'</span>
<span>print</span> arr

<span>slc</span> = arr[:, 2:5]
<span>print</span> <span>'slice is:'</span>
<span>print</span> slc

<span>slc</span>[1, 2] = 10000
<span>print</span> <span>'modified slice is:'</span>
<span>print</span> slc
<span>print</span> <span>'array is now:'</span>
<span>print</span> arr
</pre>
</div>

<pre>
array is:
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]]
slice is:
[[ 2  3  4]
 [ 8  9 10]]
modified slice is:
[[    2     3     4]
 [    8     9 10000]]
array is now:
[[    0     1     2     3     4     5]
 [    6     7     8     9 10000    11]]
</pre>
</div>
</div>